# Лексическая область видимости
лексическая область видимости — это область видимости, которая определена во время разбора на лексемы.

Поиск в области видимости прекращается как только он находит первое совпадение. Одно и то же имя идентификатора может быть указано в нескольких слоях вложенных областей видимости, что называется "затенение (shadowing)" (внутренний идентификатор "затеняет (shadows)" внешний). Независимо от затенения, поиск в области видимости всегда начинается с самой внутренней области видимости, исполняющейся в данный момент и работает таким путем по направлению наружу/вверх пока не найдется первое совпадение и тогда останавливается.

Глобальные переменные также автоматически являются свойствами глобального объекта (window в браузерах и т.п.)поэтому можно ссылаться на глобальную переменную не прямо по ее лексическому имени, а вместо этого косвенно использовать ссылку на свойство глобального объекта.

window.a
Эта техника дает доступ к глобальной переменной, которая в противном случае была бы недоступна из-за затенения. Однако, неглобальные затененные переменные не могут быть доступны.

Не важно откуда вызывается функция ее лексическая область видимости определена только тем, где функция была объявлена.

##обман лексической области видимости
 ведет к более худшей производительности.
 Есть 2 механизма:

 функция eval(..) может менять существующую лексическую область видимости, если она принимает строку кода с одним или более объявлениями в ней, то оператор with на самом деле создает полностью новую лексическую область действия на ровном месте из объекта, который вы ему передаете.
 как eval(..), так и with подвергаются воздействию (ограничиваются) строгим режимом. with полностью запрещено, в то время как различные формы скрытых или небезопасных eval(..) запрещены при сохранении базовой функциональности.

## Резюме
Лексическая область видимости означает, что область видимости определена решениями о том, где объявляются функции на стадии написания кода. Фаза разбиения на лексемы при компиляции фактически способна узнать где и как объявлены все идентификаторы, и таким образом предсказать как их будут искать во время выполнения.

Два механизма в JavaScript могут "обмануть" лексическую область видимости: eval(..) и with. Первый может менять существующую лексическую область видимости (во время выполнения) исполняя строку "кода", в которой есть одно или несколько объявлений. Второй по сути создает целую новую лексическую область видимости (снова во время выполнения) интерпретируя ссылку на объект как "область видимости", а свойства этого объекта как идентификаторы этой области.

Недостаток этих механизмов в том, что они лишают смысла возможность Движка выполнять оптимизации во время компиляции, принимающие во внимание поиск в области видимости, так как Движок должен пессимистически предположить, что такие оптимизации будут неправильными. Код будет выполняться медленнее в результате использования любой из этих возможностей. Не используйте их!
